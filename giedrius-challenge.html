<!DOCTYPE html>
<html lang="lt">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Giedriaus GTA2 čalendžas</title>
  <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@600;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0c0f14; --panel:#131923; --panel-2:#0f141d;
      --line:#253142; --muted:#9aa6b2; --text:#e6edf3;
      --accent:#40e07b; --danger:#ff6b6b;
      --radius:16px; --shadow:0 8px 30px rgba(0,0,0,.35); --gap:22px;
    }
    *{box-sizing:border-box}
    body{margin:0; background:var(--bg); color:var(--text); font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif; line-height:1.45;}
    header{
      display:grid; grid-template-columns:160px 1fr 160px; gap:16px; align-items:center;
      padding:20px clamp(16px,4vw,40px); position:sticky; top:0; z-index:5;
      background:linear-gradient(180deg,rgba(12,15,20,.95),rgba(12,15,20,.6));
      border-bottom:1px solid #151c28; backdrop-filter:saturate(1.1) blur(6px);
    }
    .sidepic{width:100%; aspect-ratio:1/1; object-fit:cover; border-radius:14px; border:1px solid #1f2937; box-shadow:var(--shadow);}
    h1.title{margin:0; text-align:center; letter-spacing:.3px; font-family:"Chakra Petch",system-ui,sans-serif; font-weight:700; font-size:clamp(28px,5vw,52px);}
    h1 .gta2{color:var(--accent)}
    main{max-width:1200px; margin:0 auto; padding:18px clamp(16px,4vw,40px) 36px}
    .card{background:var(--panel); border-radius:var(--radius); box-shadow:var(--shadow); border:1px solid #1a2433;}

    .title-img{
      justify-self:center;
      align-self:center;
      height:clamp(60px, 8vw, 160px);
      max-width:min(100%, 1200px);
      width:auto;
      object-fit:contain;
      image-rendering:-webkit-optimize-contrast;
      filter: drop-shadow(0 2px 0 rgba(0,0,0,.25));
    }

    /* Chart */
    .chart-card{padding:16px 16px 10px; margin-bottom:var(--gap)}
    .chart-head{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:0 4px 10px;}
    .legend{display:flex; gap:16px; color:var(--muted); font-size:.95rem}
    .legend .dot{width:10px; height:10px; border-radius:50%; display:inline-block; margin-right:6px}
    .legend .now{background:var(--accent)} .legend .should{background:#556279}
    #chart{width:100%; height:340px; display:block}
    .tooltip{position:absolute; pointer-events:none; padding:6px 8px; font-size:.85rem; background:#0d121a; border:1px solid #223049; color:#d9e2ec; border-radius:8px; transform:translate(-50%,-140%); white-space:nowrap; opacity:0; transition:opacity .12s ease;}

    /* Layout */
    .grid{display:grid; grid-template-columns:1.2fr .8fr; gap:var(--gap)}
    @media (max-width:980px){ .grid{grid-template-columns:1fr} }

    /* Missions (view-only) */
    .missions .head{display:flex; align-items:center; justify-content:space-between; padding:14px 18px 0;}
    .missions .body{padding:10px 16px 18px}
    .columns{display:grid; grid-template-columns:repeat(3,1fr); gap:16px}
    @media (max-width:980px){ .columns{grid-template-columns:1fr} }
    .col{background:var(--panel-2); border:1px solid #1a2433; border-radius:12px; padding:12px}
    .col h3{margin:0 0 8px 0; font-size:1.05rem}
    .mission{display:flex; align-items:center; gap:10px; padding:8px 6px; border-radius:10px;}
    .mission:hover{background:#0c1220}
    .icon{width:20px; height:20px; border-radius:6px; border:2px solid #2a3549; display:grid; place-items:center; font-size:14px; color:#2f3b50;}
    .mission.done .icon{background:var(--accent); border-color:var(--accent); color:#0c1c11}
    .mission .name{flex:1}
    .mission .num{color:var(--muted); font-size:.85rem; margin-left:6px}
    .view-note{color:var(--muted); font-size:.9rem; padding-top:8px}

    /* Videos */
    .videos .body{padding:14px 16px 18px}
    .vgrid{display:grid; grid-template-columns:1fr; gap:12px} /* one per row */
    .video{background:#0e1420; border:1px solid #1f2a3d; border-radius:12px; overflow:hidden; cursor:pointer; transition:transform .12s ease;}
    .video:hover{transform:translateY(-2px)}
    .video-thumb{display:block; width:100%; aspect-ratio:16/9; object-fit:cover}
    .video-title{padding:9px 10px 11px; font-size:.95rem}
    .embed{position:relative; aspect-ratio:16/9}
    .embed iframe{position:absolute; inset:0; width:100%; height:100%; border:0; border-radius:12px}

          /* Make the Videos header padding match the Missions header */
      .videos .head{ padding:14px 18px 0; }

      /* Use the same h2 margins as the missions card */
      .videos .head h2{ margin:0 0 8px 0 !important; }

      /* (Optional) match body padding too so the content aligns below */
      .videos .body{ padding:10px 16px 18px; } /* same as .missions .body */


    /* Rules */
    .rules .body{padding:16px 20px 22px}
    .rules h3{margin:0 0 8px}
    .rules p,.rules li{color:#d3dbe6}
    .rules a{color:#9ecbff}
  </style>
</head>
<body>
  <header>
    <img class="sidepic" src="giedr_cel_header_02.jpg" alt="Kairė nuotrauka">
    <img class="title-img" src="giedr_cel_header_01.png" alt="Giedriaus GTA2 celendzas">
    <img class="sidepic" src="giedr_cel_header_03.jpg" alt="Dešinė nuotrauka">
  </header>

  <main>
    <!-- ===== CHART ===== -->
    <section class="card chart-card" style="position:relative">
      <div class="chart-head">
        <div class="legend"><span class="dot now"></span>Martyno progresas</div>
        <div class="legend"><span class="dot should"></span>Teorinis Giedriaus supisimo progreslainas</div>
      </div>
      <svg id="chart" viewBox="0 0 1000 340" preserveAspectRatio="none" aria-label="Progreso diagrama"></svg>
      <div id="tt" class="tooltip"></div>
    </section>

    <!-- ===== MISSIONS (VIEW-ONLY) ===== -->
    <section class="grid">
      <div class="card missions">
        <div class="head">
          <h2 style="margin:0 0 8px 4px">Misijų sąrašas</h2>
          <div id="count" class="count" style="color:#9aa6b2">0 / 67 atlikta</div>
        </div>
        <div class="body">
          <div class="columns" id="missionColumns"></div>
        </div>
      </div>

      <!-- ===== VIDEOS ===== -->
      <div class="card videos">
        <div class="head"><h2 style="margin:0 0 8px 4px">Letsplėjai</h2></div>
        <div class="body"><div id="vgrid" class="vgrid"></div></div>
      </div>
    </section>

    <!-- ===== RULES ===== -->
    <section class="card rules" style="margin-top:var(--gap)">
      <div class="body">
        <h3>Rulzai</h3>
        <p><strong>OBJECTIVE</strong><br> Martynas turi pereiti visas GTA2 PC versijos misijas, esančias šitame sąraše - <a href=" https://gta.fandom.com/wiki/Missions_in_GTA_2" target="_blank" rel="noopener">gta.fandom.com</a> , nuo 2025-09-01 00:00 iki 2025-12-31 23:59.</p>
        <ul>
          <li>Prieš prasidedant challengui galima viską susisetupint.</li>
          <li>Jokių naudojimųsi wikis, walkthroughs, guides, "let's plays" ir t.t.</li>
          <li>Jokių cheatų.</li>
          <li>Jokių modų ar kitokių quality-of-life adjustmentų, kurių nėra pačio geimo optionuose, išskyrus 60 FPS pasidarymą.</li>
          <li>Galima naudotis oficialu geimo manualu.</li>
          <li>Galima naudotis šiais žemėlapiais - <a href="https://mapgenie.io/grand-theft-auto-2" target="_blank" rel="noopener">mapgenie.io</a>.</li>
        </ul>
      </div>
    </section>
  </main>

  <script>
    // ================================
    // === EDITABLE DATA (ONLY HERE) ==
    // ================================
    const START_DATE = '2025-09-01';
    const END_DATE   = '2025-12-31';
    const MISSION_CAP = 67;

    // Add your progress data points (order doesn’t matter).
    const progressPoints = [
      { date: '2025-09-01', done: 0 },
      { date: '2025-09-02', done: 3 },
      { date: '2025-09-03', done: 7 },
	    { date: '2025-09-04', done: 9 },
      { date: '2025-09-05', done: 11 },
      { date: '2025-09-09', done: 12 },
      { date: '2025-09-12', done: 15 },
      { date: '2025-09-16', done: 17 },
      { date: '2025-09-18', done: 23 },
      { date: '2025-09-19', done: 25 },
      { date: '2025-10-06', done: 26 },
      { date: '2025-10-11', done: 28 },
      //{ date: '2025-10-01', done: 20 },
    ];

    // Mission areas with "done" flags (VIEW-ONLY on page).
    // Toggle a mission by changing done: true/false here.
    const missionAreas = {
      Downtown: [
        { name: "Tutorial!", done: true },
        { name: "Get ZitZaki!", done: true },
        { name: "Radio Za-Za!", done: true },
        { name: "Cop Car Crush!", done: true },
        { name: "Bank Robbery!", done: true },
        { name: "Pizza Cake!", done: true },
        { name: "Wheeler-Dealing!", done: true },
        { name: "Happy Gas Smash!", done: true },
        { name: "Who’s Mad?", done: true },
        { name: "Yutes Must Die!", done: true },
        { name: "Get Gama Rei!", done: true },
        { name: "Destroy J-Lab!", done: true },
        { name: "Lick Those Loonies!", done: true },
        { name: "Follow That Traitor!", done: true },
        { name: "Dimentia To Go!", done: true },
        { name: "Big Bank Job!", done: true },
        { name: "SWAT Van Swipe!", done: true },
        { name: "Taxi Drivers Must Die!", done: true },
        { name: "Armored Car Clash!", done: true },
        { name: "Stop the Tank!", done: true },
        { name: "Gang War A-Go-Go!", done: true },
        { name: "Bank Van Theft!", done: true },
        { name: "The Final Job!", done: true }
      ],
      Residential: [
        { name: "Double-Cross Crush! / Gang Car Bang!", done: true },
        { name: "Sink Or Swim! / Pickup 'N' Drown!", done: false },
        { name: "Fire Truck Fun! / Flame-It!", done: false },
        { name: "Blow Job! / Blow-Up!", done: true },
        { name: "Fake Truce!", done: false },
        { name: "Science Friction! / SRS Destruction!", done: false },
        { name: "Benson Burner!", done: true },
        { name: "LaBrat's Plan!", done: false },
        { name: "Valdez Alert!", done: false },
        { name: "Greatest Hits! / In Too Deep!", done: true },
        { name: "Gran'pa We Love You! / Race 'N' Kidnap!", done: false },
        { name: "Operation Z!", done: false },
        { name: "Tanks-Giving! / Second Hand Tank!", done: true },
        { name: "Redneck Attack!", done: false },
        { name: "Law Enforcement Larceny! / Cop Stealin'!", done: false },
        { name: "Gang Car Bang!", done: false },
        { name: "Taxi Traitor Test! / RC Taxi!", done: false },
        { name: "Murder in the Mall! / Mall Murder!", done: false },
        { name: "Penal Ties!", done: false },
        { name: "Water Carry On! / The Dam!", done: false },
        { name: "Distraction Action! / Decoy Trailer!", done: false },
        { name: "The Final Job!", done: false }
],
      Industrial: [
        { name: "Hot Dog Homicide! / R.S.L. Bows!", done: false },
        { name: "Deconstruction Yard!", done: false },
        { name: "It Was an Accident!", done: false },
        { name: "Mmm, Russian Sailors! / Russian Sailors!!", done: false },
        { name: "Cop Car Scrap! / Police Car Scrap!", done: false },
        { name: "Grand Theft Auto!", done: false },
        { name: "Karma Assassins!", done: false },
        { name: "Sunbeam Contract!", done: false },
        { name: "Payback!", done: false },
        { name: "Tanks A Lot!", done: false },
        { name: "Cossack Conversion!", done: false },
        { name: "Gang War!", done: false },
        { name: "Officer Down!", done: false },
        { name: "Conversion Evasion!", done: false },
        { name: "Lock-Out!", done: false },
        { name: "Vedic Massacre!", done: false },
        { name: "Rooftop Rescue!", done: false },
        { name: "I'd Like A Tank Please, Bob!", done: false },
        { name: "Super Grass Rescue!", done: false },
        { name: "Power Station!", done: false },
        { name: "Army Base Alert!", done: false },
        { name: "Final Job!", done: false }
]

    };

    // YouTube videos (one per row)
    const videos = [
      { id: 'TptH2vgc3Ow', title: '1 Epizodas, 0-7' },
      //{ id: 'dQw4w9WgXcQ', title: 'Playthrough 1 (pavyzdys)' }
    ];

    // ================================
    // === RENDERING (don’t edit)  ====
    // ================================
    // Chart
    const svg = document.getElementById('chart');
    const W=1000,H=340, PL=60, PR=18, PT=16, PB=34;
    const parse = d => new Date(d+'T00:00:00');
    const start = parse(START_DATE), end = parse(END_DATE), span = end - start;
    const clamp=(v,a,b)=>Math.max(a,Math.min(b,v));
    const tOf=d=>clamp((parse(d)-start)/span,0,1);
    const xOf=d=>PL+tOf(d)*(W-PL-PR);
    const yOf=v=>{const h=H-PT-PB; const t=clamp(v/MISSION_CAP,0,1); return PT+(1-t)*h;};

    const innerW=W-PL-PR, innerH=H-PT-PB;
    svg.innerHTML = `<rect x="${PL}" y="${PT}" width="${innerW}" height="${innerH}" fill="none" stroke="${css('--line')}" />`;
    for(let v=0; v<=MISSION_CAP; v+=10){
      const y=yOf(v);
      svg.innerHTML+=`<line x1="${PL}" y1="${y}" x2="${W-PR}" y2="${y}" stroke="${css('--line')}" stroke-dasharray="3 4"/>
                      <text x="${PL-10}" y="${y+4}" text-anchor="end" font-size="12" fill="${css('--muted')}">${v}</text>`;
    }
    [{d:'2025-09-01',l:'9/01'},{d:'2025-09-15',l:'9/15'},{d:'2025-10-01',l:'10/01'},{d:'2025-10-15',l:'10/15'},{d:'2025-11-01',l:'11/01'},{d:'2025-11-15',l:'11/15'},{d:'2025-12-01',l:'12/01'},{d:'2025-12-15',l:'12/15'}, {d:'2025-12-31',l:'12/31'}].forEach(t=>{
      const x=xOf(t.d);
      svg.innerHTML+=`<line x1="${x}" y1="${PT}" x2="${x}" y2="${H-PB}" stroke="${css('--line')}" stroke-dasharray="3 4"/>
                      <text x="${x}" y="${H-10}" text-anchor="middle" font-size="12" fill="${css('--muted')}">${t.l}</text>`;
    });
    svg.innerHTML+=`<line x1="${xOf(START_DATE)}" y1="${yOf(0)}" x2="${xOf(END_DATE)}" y2="${yOf(MISSION_CAP)}" stroke="#556279" stroke-width="3"/>`;
    svg.innerHTML+=`<circle cx="${xOf(END_DATE)}" cy="${yOf(MISSION_CAP)}" r="5" fill="${css('--danger')}"/>
                    <text x="${xOf(END_DATE)-8}" y="${yOf(MISSION_CAP)-12}" font-size="12" fill="${css('--danger')}">goal</text>`;
    const pts=[...progressPoints].sort((a,b)=>parse(a.date)-parse(b.date));
    if(pts.length){
      const pstr=pts.map(p=>`${xOf(p.date)},${yOf(p.done)}`).join(' ');
      svg.innerHTML+=`<polyline points="${pstr}" fill="none" stroke="${css('--accent')}" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>`;
      pts.forEach(p=>svg.innerHTML+=`<circle class="pt" cx="${xOf(p.date)}" cy="${yOf(p.done)}" r="4.5" fill="${css('--accent')}" data-date="${p.date}" data-done="${p.done}"/>`);
    }
    const tt=document.getElementById('tt');
    svg.addEventListener('pointermove',e=>{
      const t=e.target; if(!t.classList.contains('pt')){tt.style.opacity=0; return;}
      const r=svg.getBoundingClientRect();
      tt.style.left=(r.left+Number(t.getAttribute('cx'))*r.width/W)+'px';
      tt.style.top=(r.top+Number(t.getAttribute('cy'))*r.height/H)+'px';
      tt.innerHTML=`${t.dataset.date} · <strong>${t.dataset.done}</strong>`; tt.style.opacity=1;
    });

    // Missions (view-only)
    const colsEl=document.getElementById('missionColumns');
    let doneCount=0, index=0;
    Object.entries(missionAreas).forEach(([area, list])=>{
      const col=document.createElement('div'); col.className='col';
      const h=document.createElement('h3'); h.textContent=area; col.appendChild(h);
      list.forEach(m=>{
        index++;
        const row=document.createElement('div'); row.className='mission'+(m.done?' done':'');
        if(m.done) doneCount++;
        row.innerHTML=`<div class="icon" aria-hidden="true">${m.done?'✓':'□'}</div>
                       <div class="name">${escape(m.name)} <span class="num">#${index}</span></div>`;
        col.appendChild(row);
      });
      colsEl.appendChild(col);
    });
    document.getElementById('count').textContent=`${doneCount} / ${MISSION_CAP} komplytinta`;

    // Videos
    const vgrid=document.getElementById('vgrid');
    videos.forEach(v=>{
      const card=document.createElement('div'); card.className='video';
      card.innerHTML=`<img class="video-thumb" src="https://i.ytimg.com/vi/${v.id}/hqdefault.jpg" alt="${escape(v.title)}">
                      <div class="video-title">${escape(v.title)}</div>`;
      card.addEventListener('click',()=>{
        const wrap=document.createElement('div'); wrap.className='embed';
        wrap.innerHTML=`<iframe src="https://www.youtube-nocookie.com/embed/${v.id}?autoplay=1"
                          title="${escape(v.title)}"
                          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                          allowfullscreen></iframe>`;
        card.replaceWith(wrap);
      });
      vgrid.appendChild(card);
    });

    // helpers
    function css(n){return getComputedStyle(document.documentElement).getPropertyValue(n).trim();}
    function escape(s){return s.replace(/[&<>"]/g,c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c]));}
  </script>
</body>
</html>
